<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>{{ sel_snsr.snsr_name }} Details</title>
    <script type="text/javascript" src="https://www.google.com/jsapi?autoload={'modules':[{'name':'visualization','version':'1.1','packages':['gauge']}]}"></script>
   
<style>
    body {background-color:lightgray}
    h1 {color:blue}
    p  {color:green}
</style>
<script?>

google.setOnLoadCallback(drawChart);
      function drawChart() {

        var data = google.visualization.arrayToDataTable([
          ['Label', 'Value'],
          ['Temp ( {{ sel_snsr.temp_units }} )', {{ sel_snsr.cur_temp }} ],
          ['Fake Grav', 9.2]
        ]);

        var options = {
          width: 900, height: 400,
          redFrom: 212, redTo: 320,
          yellowFrom:100, yellowTo: 212,
          minorTicks: 5,
	  min: 30,
          max:320
        };

        var chart = new google.visualization.Gauge(document.getElementById('chart_div'));

        chart.draw(data, options);

        setInterval(function() {
            //data.setValue(0, 1, 40 + Math.round(60 * Math.random()));
            data.setValue(0, 1, {{ sel_snsr.cur_temp }} );
            data.setValue(1, 1, 10 + Math.round(10 * Math.random()));
            chart.draw(data, options);
         // location.reload();
        }, 3000);
      }
</script>
</head>

<body>
<center>
	<font size="16" color=:green>Sensor name: {{ sel_snsr.snsr_name }}</font>
	<div id="chart_div" style="width: 900px; height:400px;"></div>
        <h2>Sensor created on: {{ sel_snsr.snsr_create_date }}</h2>
        <h2>Temp last updated on: {{ sel_snsr.temp_updated_date }}</h2>
	<div id="temp_div" ><h1>{[ {{ sel_snsr.cur_temp }} degrees {{ sel_snsr.temp_units }} ]}</h1></div>
	<h3><a href="/temp/">Go Back to Index</a></h3>
</center>
</body>
</html>
